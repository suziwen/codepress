<html>
  <head>
	<title>CodePress 1.0.0a</title>
<script type="text/javascript" src="codepress.js"></Script>
<script type="text/javascript">
CodePress.run = function() {
	var elements = document.getElementsByTagName('textarea')
	
	for (var i = 0, j = elements.length; i < j; i++) 
	{
		var textarea = elements[i];
		if(textarea.className.match('codepress'))
		{
			new CodePress({
				"element" : textarea,
				"plugins" : ["Console","GotoLine","AutoSave","Indent"]
			});
		} 
	}
}

if(window.attachEvent) window.attachEvent('onload',CodePress.run);
else window.addEventListener('DOMContentLoaded',CodePress.run,false);
</script>
</head>
<body>

<button onclick='document.getElementById("test").plugin.load("Linenumbers");'>Load Linenumbers</button>
<button onclick='document.getElementById("test").plugin.load("Print");'>Load Print Plugin</button>
<button onclick='alert(document.getElementById("test").engine.getCode());'>alert engine.getCode()</button>
<button onclick='document.getElementById("test").setLanguage("html");'>language.set("html")</button>
<button onclick='document.getElementById("test").setLanguage("php");'>language.set("php")</button>
<button onclick='alert(document.getElementById("test").editor.contentDocument.getElementsByTagName("body")[0].innerHTML);'>InnerHTML</button>
<hr/>
<textarea class="codepress html" id="test" style="height:200px; width:550px;">&lt;div id="logo"&gt;
	&lt;h1&gt;&lt;a href="http://codepress.org/"&gt;CodePress&lt;/a&gt;&lt;/h1&gt;
	&lt;h2&gt;Online Real Time Syntax Highlighting Editor&lt;/h2&gt;
	&lt;img src="testimage.gif" /&gt;
	&lt;script&gt;
	// some script
	document.write("string");
	regexp = /(abc)/g;
	&lt;/script&gt;
	&lt;style&gt;
	// some script
	&lt;/style&gt;	
&lt;/div&gt;
&lt;?php
	echo "this is php";
	// PHP Comment
?&gt;</textarea><hr/>
<button onclick='new CodePress({element:document.getElementById("test2")});'>Start CodePress</button><hr/>
<textarea class="php" id="test2" style="height:200px; width:550px;">&lt;?php
	echo "this is php";
	// PHP Comment
?&gt;</textarea>
</body>
</html>